
									
										Страница:  1   2 
										
									
								
Размещено на http://www.allbest.ru/

Министерство образования и науки Украины

Запорожский институт экономики и информационных технологий

Кафедра компьютерных систем

Отчет

о прохождении производственной практики

в ЗАК имени "Ивченко"

Запорожье, 2014

Содержание

авиационный микропроцессорный зажигание плата

Перечень условных обозначений, символов, единиц, сокращений и терминов

Введение

Раздел 1. Запорожский авиационный колледж им. А.Г. Ивченко

1.1 История развития Запорожского авиационного колледжа

1.2 Специальности по которым готовят специалистов в ЗАК

Раздел 2. Обзор программно-апаратных решений микропроцессорных систем зажигания

2.1 Система зажигания с автоматической корректировкой УОЗ МБ-22

2.2 Микропроцессорная система зажигания с оптическими датчиками

2.3 Микропроцессорная система зажигания на микроконтроллере Atmel

2.4 Универсальная микропроцессорная система зажигания

2.5 Постановка задачи

Раздел 3. Выбор средств реализации проекта

3.1 Обоснование выбора системы сквозного проектирования P-Cad

3.1.1 Структура системы P-CAD 2001

3.1.2 Возможности системы P-CAD при проектировании печатных плат

3.1.3 Требования к аппаратному обеспечению ПК

3.2 Обоснование выбора среды программирования AVR studio + PonyProg

3.2.1 Среда разработки программ для микроконтроллеров AVR studio

3.2.2 Среда программирования микросхем PonyProg

3.3 Обоснование выбора среды конструкторского проектирования Компас

3.3.1 Интерфейс программы КОМПАС. Основные инструменты

Литература

Перечень условных обозначений, символов, единиц, сокращений и терминов

Слово / словосочетание


Сокращения


Условия использования




А




Аналого-цифровой преобразователь


АЦП





В




Верхняя мёртвая точка


ВМТ





З




Запорожский авиационный колледж


ЗАК





У




Угол опережения зажигания


УОЗ





Э




Электронный блок управления


ЭБУ





Экономайзер принудительного холостого хода


ЭПХХ





C




Capactor Discharge Ignition


CDI





Coil on Plug


COP





D




Distributed File System


DFS





Direct Ignition


DI





Distributor Less Ignition System


DIS





Distributor Less Ignition


DLI





E




Electronic Control Unit


ECU





T




Transistor Controlled Ignition


TCI





E




нем. Einzel Funken Spule


EFS







Введение

Микропроцессорный блок управления зажиганием (или блок управления двигателем с подсистемой управления зажиганием) - с датчиками и коммутатором. Системы зажигания, в которых применяется такой вариант управления зажиганием, имеют общее название - микропроцессорные системы зажигания. В этом случае блок управления получает информацию о работе двигателя (обороты, положение коленчатого вала, положение распределительного вала, нагрузка на двигатель, температура охлаждающей жидкости и пр.) от датчиков и по результатам алгоритмической обработки этих данных управляет коммутатором, который, в свою очередь, управляет накопителем энергии. Регулировка опережения зажигания реализована программно в блоке управления.

Электронный блок управления (ECU, PCM) выполняет в системе главную роль. Его работа состоит в сборе информации от датчиков (для управления зажиганием основными датчиками являются датчик положения коленчатого вала, датчик положения распределительного вала, датчик детонации, датчик угла открытия дроссельной заслонки), расчете оптимального момента зажигания, времени зарядки катушки и управлении через коммутатор первичной цепью катушки.

Основные датчики микропроцессорной системы управления зажиганием:

ь Датчики положения коленчатого и распределительного валов. Эти датчики необходимы ЭБУ для определения текущих оборотов двигателя, а также текущего положения распределительного вала (для идентификации цилиндра, который находится в такте сжатия). В разных модификациях электронных систем управления используется разный набор датчиков для решения этих задач. При этом используются датчики разных типов - но наиболее часто индуктивные датчики и датчики Холла.

ь Датчик детонации - устанавливается на блоке двигателя. Во время работы двигателя датчик генерирует сигнал с частотой и амплитудой, зависящей от частоты и амплитуды вибрации двигателя. При возникновении детонации электронный блок корректирует угол опережения зажигания.

ь Датчик угла открытия дроссельной заслонки определяет нагрузку на двигатель.

Коммутатор ("воспламенитель", igniter) - это транзисторные ключи, которые в зависимости от сигнала с ECU включают или отключают питание первичной обмотки катушки (катушек) зажигания. В зависимости от устройства конкретной системы зажигания коммутатор может быть как один, так их может быть и несколько (если в системе зажигания используется несколько катушек).

В процессе разработки новых систем зажигания одной из главных задач было отказаться от всех наиболее ненадежных компонентов системы - не только от контактного прерывателя, но и от механического распределителя зажигания.

От контактного прерывателя удалось отказаться путем внедрения микропроцессорных систем управления. От распределителя удалось отказаться разработкой, так называемых, систем зажигания со статическим распределением энергии или статических систем зажигания (статическим - потому что в этих системах отсутствуют движущиеся части, имеющиеся в распределителе).

(CDI) - Capactor Discharge Ignition (конденсаторное разрядно-емкостное зажигание) - система зажигания, использующая для формирования искры на свече энергию, предварительно накопленную на конденсаторе.

(TСI) - Transistor Controlled Ignition (транзисторное батарейное зажигание) - зажигание, контролируемое транзистором системы, в которых применяют импульсные генераторы (датчики) разных видов: индуктивного типа (магнитоэлектрические) и использующие эффект Холла. Так как распределитель в этих системах отсутствует, они также имеют общее обозначение DLI (Distributor Less Ignition), DIS (Distributor Less Ignition System) ("система без распределителя"), DI (Direct Ignition), DIS ("система прямого зажигания", "непосредственное зажигание").

С внедрением этих систем произошли существенные изменения и в конструкцию катушки зажигания (использовать двух - и четырехвыводные катушки) и/или использовать системы с несколькими катушками зажигания. Все системы зажигания без распределителя делятся на два блока - системы независимого зажигания с индивидуальными катушками зажигания на каждый цилиндр двигателя (EFS и COP системы) и системы синхронного зажигания, где одна катушка обслуживает, как правило, два цилиндра (DFS -системы).

Систему EFS (нем. Einzel Funken Spule) называют системой независимого зажигания, так как в ней (в отличие от систем синхронного зажигания) каждая катушка и управляется независимой дает искру только для одного цилиндра. В этой системе каждая свеча имеет свою индивидуальную катушку зажигания. Кроме отсутствия в системе механических движущихся частей, дополнительным преимуществом является то, что при выходе из строя катушки перестанет работать только один "ее" цилиндр, а система в целом сохранит работоспособность.

Одной из наиболее популярных разновидностей EFS - систем является так называемая COP система (Coil on Plug - "катушка на свече") - в этой системе катушка зажигания ставится прямо на свечу.

Таким образом, стало возможным полностью избавить еще от одного не вполне надежного компонента системы зажигания - от высоковольтных проводов.

Катушки зажигания в системе DFS могут устанавливаться как отдельно от свечей и связываться с ними высоковольтными проводами (как в системе EFS), так и прямо на свечах (как в системе COP).

На современных лодочных двигателях контактные батарейные системы зажигания полностью вытеснены бесконтактными системами. Они более надежны и позволяют достигать высоких частот вращения коленчатого вала двигателя и не нуждаются в обслуживании и периодической регулировке момента зажигания.

РАЗДЕЛ 1 

Раздел 1. Запорожский авиационный колледж им. А.Г. Ивченко

1.1 История развития Запорожского авиационного колледжа

История Запорожского авиационного колледжа (ЗАК) академика Александра Георгиевича Ивченко постоянно переплетается с историей завода. В начале 20 века возникла необходимость в ремонте авиационных двигателей. Налаживать ремонт и производство начало Петербургское акционерное общество "Дюфлон", Константинович и К. - сокращенно "Дека" в нашем родном городе.

Шло время, и для производства авиационных двигателей необходимы были хорошо подготовленные кадры. Именно это и побудило идею создания учебного заведения.

В 1929 году 24 декабря - практическим воплощением исторических решений партии было создание авиамоторостроительного техникума имени К.Е. Ворошилова в городе Запорожье.

Занятия проходили в помещении запорожского машиностроительного института, где были отведены профкомом две аудитории.

28 мая техникум был передан из системы Наркомпрома УССР в ведение Всесоюзного авиационного объединения (ВАО). Включение техникума в систему ВАО привело к изменению его названия - Запорожский авиационный техникум.

В 1932 г. техникум был награжден Почетной грамотой по результатам тура Всесоюзного социалистического соревнования и Красным Знаменем в честь штурма Днепрогэса.

За 1934-1937 годы - техникуму присуждено Красное знамя городского комитета комсомола, как лучшему учебному заведению.

За эти годы состоялось 12 выпусков, диплом техникума уже получили почти 500 специалистов.

Техникум не просто был создан для подготовки специалистов, нужных заводу. Он практически прожил одну жизнь с заводом. И сегодня на заводе работают наши выпускники.

1941 год - Великая Отечественная война нарушила мирную жизнь и запорожских авиамоторостроителей. Она заставила надеть шинели многих работников завода, студентов и преподавателей техникума.

Август - завод получил приказ Наркома авиационной промышленности об эвакуации завода на восток в г. Омск. Эвакуация была проведена всего за 47 суток. Вместе с заводом в Омск были эвакуированы и Запорожский авиационный техникум. Там с 1941 по 1944 годы удалось подготовить и выпустить более 200 специалистов.

Многие студенты техникума, с оружием в руках встававшие в ряды защитников Отечества, так и не вернулись с фронта.

С 1947 года техникум вернулся в родной город. Было всего 3 группы, обучались в основном фронтовики, и те, кто вернулся из сибирского города.

Работать пришлось в сложных условиях, не было собственного помещения. Занятия проходили в аудиториях бывшего ремесленного училища № 20. Но вскоре завод выделил для техникума здание по ул. Химической.

Первый послевоенный выпуск состоялся в 1950 г.

В 1968 году - Запорожскому авиационному техникуму Постановлением Совета Министров СССР от 28 октября присвоено имя академика Александра Георгиевича Ивченко, выдающегося конструктора и ученого Украины, создателя авиационных двигателей, широко известных в мире, как двигателей семейства "АИ" основателя и первого руководителя Запорожского машиностроительного конструкторского бюро "Прогресс", Генерального конструктора, Героя Социалистического Труда, лауреата государственной премии СССР.

В 1998 г. на здании колледжа открыта мемориальная доска в честь его 95-летия. Многие из сегодняшних выпускников хотели бы быть похожими на него.

1969 г. - под активным руководством директора техникума Ивана Григорьевича Тырина было построено новое здание техникума по адресу - улица Иванова, 97. Два корпуса - учебный и учебно-производственный, которые имели кроме аудиторий, актовый зал на 400 мест, спортзал, библиотеку, тир, столовую, в производственном - слесарную и механическую мастерские.

В 1975 году директором техникума был назначен Рыбальченко Игорь Иванович, работавший в техникуме с 1955 г. и в прошлом году отпраздновал свой 55-летний юбилей работы в колледже.

31 июля 1980 г. "За успехи в подготовке высококвалифицированных специалистов для народного хозяйства" Запорожский авиационный техникум имени Александра Георгиевича Ивченко награжден Почетной грамотой Президиума Верховного Совета Украинской ССР.

В 1987 г. - коллектив техникума возглавил кандидат технических наук Ксензов Александр Сергеевич.

В 1991 году техникуму Приказом Министерства авиационной промышленности СССР №440 от 27 февраля присвоен статус колледжа, который экспериментально готовил младших специалистов с повышенным уровнем фундаментальной подготовки. Спустя десятилетие эта форма обучения стала называться - бакалавриат.

1998 г. - согласно приказу Министерства образования Украины на базе Запорожского авиационного колледжа создан учебно-научно-производственный комплекс, в который вошли:

ь Днепропетровский национальный университет,

ь Запорожский государственный технический университет,

ь Запорожский технический лицей "Выбор",

ь школа-лицей № 34,

ь общеобразовательная специализированная школа №18.

И в качестве базовых предприятий для подготовки специалистов двигателестроительной отрасли:

ь ОАО "Мотор-Сич",

ь ЗМКБ "Прогресс",

ь КБ "Южное",

ь ОАО "Авто-ЗАЗ",

ь ЗО "Искра".

Новый век колледж отметил открытием новой специальности "Экономика предприятия", а впоследствии были открыты еще две специальности: "Организация производства" и "Обслуживание компьютерных и интеллектуальных систем и сетей" и совсем новая специальность - "Обслуживание программных систем и комплексов" (2012 г).

2007 год - директором колледжа избрали Задорожного Виктора Николаевича.

Сегодня будущих специалистов готовят почти 100 преподавателей высокого уровня. Среди них кандидат технических наук, преподаватели высшей категории, преподаватели-методисты.

1.2 Специальности по которым готовят специалистов в ЗАК

В колледже готовят специалистов образовательно-квалификационного уровня "младший специалист" специальностей:

1) Дневное отделение:

· Производство авиационных двигателей.

Специалисты готовятся для работы в конструкторских и производственных структурах авиамоторостроительного комплекса. Квалификация -- техник-конструктор.

· Технология обработки материалов на станках и автоматических линиях.

Специалисты готовятся для участия в разработке и обеспечению технологических процессов и оснащению их для работы на машиностроительных предприятиях и проектно-технологических организациях. Квалификация -- техник-технолог.

· Литейное производство черных и цветных металлов.

Специалисты готовятся для работы в отрасли машиностроения и металлургии и в отраслях научно-исследовательских, проектно-конструкторских организациях. Квалификация -- техник-технолог.

· Обслуживание станков с программным управлением и робототехнических комплексов.

Специалисты готовятся к работе в механических и механоскладских цехах, лабораториях, отделах предприятия, которые изготавливают или эксплуатируют станки с программным управлением. Квалификация --электромеханик.

· Обслуживание компьютерных и интеллектуальных систем и сетей.

Специалист готовится к работе по проектированию, настройке, и эксплуатации компьютерных систем и сетей, созданию программного обеспечения. Квалификация -- техник по компьютерной инженерии.

· Обслуживание программных систем и комплексов.

Специалисты готовятся для работы по проектированию и программированию, а также обслуживанию программных систем и комплексов. Квалификация -- техник-программист.

· Экономика предприятия.

Специалисты готовятся для планово-экономической деятельности в организациях, предприятиях разных отраслей всех форм собственности. Квалификация -- экономист.

2) Заочное отделение:

· Организация производства.

· Экономика предприятия.

· Обслуживание компьютерных и интеллектуальных систем и сетей.

Срок обучения:

1) На базе базового общего среднего образования (9 классов):

· по техническим специальностям - 3 года 10 месяцев,

· по экономическим специальностям - 2 года 10 месяцев.

2) На базе полного общего среднего образования (11 классов) и на базе образовательно-квалификационного уровня "квалифицированный рабочий" (ВПТУ):

· по техническим специальностям - 2 года 10 месяцев,

· по экономическим специальностям - 2 год 5 месяцев.

Запорожский авиационный колледж им. А. Г. Ивченко проводит подготовку младших специалистов по следующим направлениям:

· Авиационная и ракетно-космическая техника;

· Информатика и вычислительная техника;

· Машиностроение и материалообработка;

· Менеджмент и администрирование;

· Металлургия и материаловедение;

· Экономика и предпринимательство.

РАЗДЕЛ 2 

Раздел 2. Обзор программно-апаратных решений микропроцессорных систем зажигания

2.1 Система зажигания с автоматической корректировкой УОЗ МБ-22

Магнето состоит из генераторного и электронного блоков. Генераторный блок монтируется на верхней крышке картера и, в отличие от магнето МБ-2, не поворачивается относительно оси коленвала. На основании магнето смонтированы две катушки: одна - для выработки энергии на искрообразование, другая - для питания энергией бортовой электросети. Здесь же установлен датчик импульсов, поступающих на электронный блок. При вращении коленвала с частотой 5000 об/мин катушка для питания источников электросети выдает мощность 40 Вт.

При монтаже генераторный блок выставляют по рискам на картере и на основании блока.

Электронный блок имеет тиристорную схему с накоплением энергии в конденсаторе с выходом на высоковольтный трансформатор. В отличие от магнето МБ-2, электронный блок смонтирован на выносной плате; здесь же закреплен один высоковольтный трансформатор с двумя выводами. Блок выполнен на безкорпусных элементах, защищен компаундом и поэтому не ремонтопригоден и разборке не подлежит.

Перемещение концов полюсных башмаков при вращении маховика относительно датчика импульсов вызывает разряд накопительного конденсатора через высоковольтный трансформатор, при этом напряжение повышается до 12-30кВ, которое подается на обе свечи.

Угол опережения зажигания, как и на других системах, изменяется автоматически.

От генераторного блока выведено два жгута проводов. Провода от катушки питания бортовой сети белого цвета подсоединяются к сети освещения (или через выпрямитель ВБГ-ЗА к аккумулятору), а провод красный (или черный) подсоединяется к кнопке "стоп" (на ВБГ-ЗА). Вторая клемма кнопки "стоп" соединяется проводом-перемычкой (на ВБГ-ЗА) с корпусом двигателя ("массой"). Второй жгут проводов через разъем типа РС подсоединяется к электронному блоку.

Магнето МБ-22 комплектуется маховиком 3.119-800 для моторов с ручным запуском и 3.119-800-01 для моторов с электрозапуском.

При отработке измененного угла установки магнето МБ-22 относительно риски на крышке картера не исключено применение маховиков 4.121-000 и 4.121-000-01 от системы зажигания с магнето МБ-2.

Схема электрическая принципиальная системы зажигания МБ-22 представлена на Рис. 2.1. Схема электрическая принципиальная. Магнето МБ-22.

Рис. 2.1 - Схема электрическая принципиальная. Магнето МБ-22.

Систему зажигания с МБ-22 можно также устанавливать на моторы "Вихрь-М" и "Вихрь-25Р".

2.2 Микропроцессорная система зажигания с оптическими датчиками

Микропроцессорная система зажигания формирует угол опережения зажигания (УОЗ) для воспламенения рабочей смеси в цилиндрах двигателя с установкой оптимального угла опережения зажигания для данного режима работы двигателя. С помощью микропроцессорной системы зажигания достигается более экономичная работа двигателя, при повышении его мощностных показателей. Улучшенный запуск холодного двигателя, с просевшим аккумулятором, стабильная работа на холостых оборотах.

1) Зажигание Сарумана, заводское изготовление.

1. Платы изготавливаются на заводе и проходят электроконтроль.

2. Коммутатор, который входит в состав системы зажигания имеет отметку ОТК завода и взаимозаменяем с другими коммутаторами.

3. Полностью готовое зажигание так же проходит электроконтроль и тестируется на устройстве.

Рис. 2.2 - Микропроцессорное зажигание.

Рис. 2.3 - Микропроцессорное зажигание.

Отдельное размещение электроники (блока согласования) оптического датчика не даёт ей перегреваться от картера двигателя и сгореть.

Схема, применяемая в оптике лучшая среди аналогичных. Позволяет с максимальной точностью обеспечить работу мотора.

2) Оптический датчик с блоком согласования.

Оптический датчик с блоком согласования подключается вместо датчика Холла, и взаимозаменяем с любым датчиком Холла.

Рис. 2.4 - Оптический датчик с блоком согласования.

Рис. 2.5 - Оптический датчик.

С оптическим датчиком и блоком согласования:

1. Считывание оборотов происходит точнее, что обеспечивает правильный момент подачи искры, воспламенения смеси, и как следствие правильную работу мотора.

2. Оптический датчик надёжнее, так как применена оптопара, а не датчик холла.

3. Оптический датчик не подвержен воздействию магнитного поля генератора.

4. Взаимозаменяем вместо любого датчика Холла, для удобства имеет такой же разъём.

5. Имеет удобные регулировочные пазы.

Комплекты УОЗ содержат графика опережения угла зажигания. Графики переключаются кнопками Select 1 и Select 2.

Сбоку все кнопки дублированы клеммами для подключения переключателей и вывода их на любую длину.

Две функции на выбор:

ь Двигатель-стоп - при включении функции двигатель глохнет, когда функция отключена двигатель работает.

ь Прогрев свечей - когда двигатель заглушен (нет сигнала с датчика) и включена данная функция, контроллер непрерывно даёт искру с частотой примерно соответствующей 1500 об/мин, если двигатель запущен эта функция не работает.

ь Защита 1500 или 2000 об/мин - в этом режиме двигатель может работать только на низких оборотах, при превышении некоторого числа оборотов (1500 или 2000 об/мин) коленвала, двигатель отключается, индикаторный светодиод при этом постоянно горит, после срабатывания защиты вновь запустить двигатель можно только выключив и включив зажигание.

ь Ограничение оборотов 3000 или 3500 или 4000 или 5000 или 6000 об/мин - при включении данной функции контроллер ограничивает обороты двигателя на соответствующей частоте, причем двигатель не глохнет, а за счет пропуска искры перестает набирать обороты. Эта функция может использоваться при обкатке.

Регулировка зажигания.

Светодиод включается при входе активного элемента шторки (вырез) в датчик Холла (или Оптопара) и выключается при его выходе. При начальной регулировке для оппозитных двигателей момент выхода шторки из датчика (и соответственно выключение светодиода) должен примерно совпадать с ВМТ, именно в этот момент будет происходить искрообразование на пусковых оборотах. Для двухтактных двигателей шторка должна быть смещена примерно на 10-15 градусов в сторону раннего зажигания.

Естественно допускается поворачивать шторку в сторону более раннего или более позднего зажигания, подбирая наиболее подходящий режим работы двигателя.

Технические характеристики комплектов УОЗ:

· Номинальное напряжение питания 12В (6В для 6 вольтового варианта).

· Диапазон рабочего напряжения 5…16В.

· Диапазон рабочих температур: -40…+85 ?С.

Графики угла опережения зажигания.

Рис. 2.6 - График угла опережения зажигания для мотоцикла.

Рис. 2.7 - График угла опережения зажигания для мотоцикла.

Рис. 2.8 - График угла опережения зажигания для мотоцикла.

Рис. 2.9 - График угла опережения зажигания для мотоцикла ИЖ.

Рис. 2.10 - График угла опережения зажигания для мотоцикла ЯВА 350.

Рис. 2.11 - График угла опережения зажигания для мотоцикла ЯВА 638.

2.3 Микропроцессорная система зажигания на микроконтроллере Atmel

Схема электронного зажигания собрана на контроллере Attiny2313 фирмы Atmel. Сигнал с датчика Холла подаётся на вход Х1. Микроконтроллер производит обработку сигнала с датчика, вычисляет оптимальные моменты включения и выключения катушки зажигания. Коммутация последней осуществляется транзисторными ключами, управляемыми выходным сигналом контроллера.

Для заливки и обновления прошивки имеется разъём ISP (in system programming, внутрисистемное программирование), к которому подключается программатор.

При проектировании печатной платы устройства следует предусмотреть размещение транзистора VT1 на радиаторе охлаждения.

Для минимизации влияния вибраций микросхему контроллера желательно непосредственно впаять в плату без применения колодки. По этой же причине следует жёстко закрепить все транзисторы и по возможности использовать элементы поверхностного монтажа. Схема электрическая принципиальная приведена на Рис. 2.12. Схема электрическая принципиальная. Микропроцессорная система зажигания на микроконтроллере Atmel.

Рис. 2.12 - Схема электрическая принципиальная. Микропроцессорная система зажигания на микроконтроллере Atmel.

Особенности прошивки для микроконтроллера:

· Регулировка угла зажигания начинается с нулевого значения.

· Минимальная частота вращения при которой устройство осуществляет регулировку угла - 3 об/мин.

· Время накопления энергии в катушке зажигания до 2800 об/мин. - 4 мксек. после 2800 об/мин. - 9 мксек. и уменьшается с увеличением оборотов.

· После не предусмотренной остановки двигателя, а так же при включении устройства, исключается возможность нахождения катушки зажигания под напряжением более чем 4 мксек. (во избежание выхода её из строя).

· Катушка зажигания применяется низкоомная (сопротивление первичной обмотки 0.5 - 1.5 Ом).

График угла опережения зажигания имеет следующий вид Рис. 2.13. График угла опережения зажигания:

Рис.2.13 - График угла опережения зажигания.

Прошивка контроллера осуществляется простейшим программатором, который подключается к СОМ - порту компьютера с помощью 9-pin (25-pin) разъёма (мама). Принципиальная схема программатора приведена ниже на рис. 2.14. Принципиальная схема програматора.

Рис.2.14 - Принципиальная схема програматора.

При желании схему можно поместить в самом разъёме для СОМ - порта.

Для подключения программатора к контроллеру можно применить любой подходящий разъём, главное чтобы выводы программатора (на схеме справа) совпадали с соответствующими выводами на контроллере.

ВАЖНО: т.к. по умолчанию в микросхеме Attiny2313 задействован внутренний делитель тактовой частоты на 8, то для нормального функционирования устройства необходимо его выключить. Для этого нужно в окне программы нажать на кнопку "FUSE", поставить галочку рядом с пунктом "CKDIV8" и записать данное значение в контроллер.

Датчик можно применять любой, имеющий более 3.5 вольт на выходе при наличии шторки в зоне чувствительного элемента. Из самых распространенных - это автомобильный датчик Холла.

Шторка устанавливается на распредвал и имеет два симметричных лепестка по 15…20 градусов. Важно, чтобы они были абсолютно одинаковыми.

Схема предварительной установки угла зажигания имеет следующий вид рис. 2.15. Схема предварительной установки угла зажигания:

Рисунок 2.15 - Схема предварительной установки угла зажигания.

Т.е. шторка должна входить в датчик за 30…40 градусов до верхней мёртвой точки, а выходить за 15…20 градусов. В соответствии с Рис 2.15. Схема предварительной установки угла зажигания, датчик должен располагаться в точке 1. Если выставить поршни в ВМТ, то в этот момент шторка (выделена синим цветом) должна занять положение в соответствии с Рис 2.15. Схема предварительной установки угла зажигания. После предварительной установки зажигания, рекомендуется довернуть угол на 2…5 градусов в сторону раннего, для лучшей приёмистости двигателя на низких оборотах.

2.4 Универсальная микропроцессорная система зажигания

Несмотря на повсеместное распространение впрысковых (инжекторных) двигателей, где приготовлением топливной смеси и моментом зажигания управляет электроника, карбюраторные двигатели с механическим регулятором опережения зажигания, вероятно еще долго будут находиться в эксплуатации.

Как известно мощность, развиваемая двигателем, во многом зависит от того, насколько угол опережения зажигания, формируемый центробежным и вакуумными регуляторами соответствует оптимальному углу опережения. (Тюфяков А. Система зажигания без секретов: Сб. Автомобилист-86-М.: ДОСААФ, 1986) [2].

Даже при условии нормальной работы центробежного регулятора двигатель теряет 5 - 10 % мощности из-за того, что характеристика центробежного регулятора не соответствует оптимальной. Реально эти потери значительно больше:

? необходимо учесть различные люфты в приводе датчика-распределителя (трамблера);

? износ подшипника, на котором крепится прерыватель (или датчик Холла в бесконтактном варианте системы зажигания);

? изменение упругости пружин центробежного регулятора в процессе эксплуатации, его инерционность и т.д. главное - невозможность при помощи простого механического устройства воспроизвести кривую зависимости УОЗ сначала по границе детонации до 2800 , а далее по кривой оптимального УОЗ (кривые 2 и 4 на Рис. 2.16. График зависимости оптимального УОЗ.)

Рисунок 2.16 - График зависимости оптимального УОЗ.

1 - граница детонации для АИ-95, 2 - для АИ-92, 3 - для А-76, 4 - кривая оптимального УОЗ, 5,6,7 - характеристики центробежного регулятора при различном начальном УОЗ.

Для сокращения потерь мощности двигателя, вследствие указанных причин, были разработаны два устройства на микроконтроллерах.

Первое устройство формирует угол опережения зажигания в зависимости от частоты вращения коленчатого вала двигателя схема электрическая принципиальная изображена на Рис. 2.17. Схема электрическая принципиальная. Регулятор УОЗ.

Рис. 2.17 - Схема электрическая принципиальная. Регулятор УОЗ.

Кривая графика УОЗ в диапазоне от 830 до 2800  проходит по границе детонации для бензина АИ - 92. Далее кривая графика соответствует оптимальному углу опережения зажигания в диапазоне частот от 2800  до 6000 .

Работает устройство следующим образом - импульсы с прерывателя, после ограничения до уровня 4,7в, поступают на вывод 6 микроконтроллера, если частота вращения коленчатого вала менее 830 об/ программа микроконтроллера устанавливает на выводе 17 , уровень напряжения такой же, как на выводе 6 , т.е. угол опережения равен 0.

В случае отсутствия импульсов на входе устройства в течении 8 секунд (постоянный 0й уровень на выводе 6) , программа устанавливает на выводе 17 высокий уровень , транзистор VT2 закрывается и катушка зажигания отключается . При частоте более 830 , программа формирует УОЗ в зависимости от периода импульсов зажигания в соответствии с графиком Рис. 2.18. График зависимости оптимального УОЗ. В качестве ключа VT2 применен транзистор КТ898А, который позволяет непосредственно коммутировать катушку зажигания Б117.

Рис. 2.18 - График зависимости оптимального УОЗ.

Устройство собрано в корпусе от блока электронного зажигания. Транзистор КТ898А изолирован от корпуса блока прокладкой из слюды.

Сигнал на выводе 11 микроконтроллера можно использовать для включения пневмоклапана ЭПХХ, для этого необходимо дополнительно установить транзисторный ключ. Уровень логической 1 устанавливается на выводе 1, при снижении частоты вращения коленчатого вала до 1300 .

Начальный УОЗ должен быть равен "0", и установлен по меткам на шкиве коленчатого вала и блоке цилиндров. Угол замкнутого состояния контактов прерывателя, желательно установить больше чем рекомендуют инструкции по эксплуатации - около 65 градусов вместо рекомендуемых 55 (для достижения больших максимальных оборотов).

Второе устройство формирует угол опережения зажигания в зависимости от частоты вращения коленчатого вала, и от разряжения во впускном коллекторе - в этом случае блокируются и центробежный и вакуумный регуляторы.

На Рис. 2.19 График формирователя угла опережения зажигания, приведены графики угла опережения зажигания, формируемые устройством.

Кривая "0,9в" формируется при минимальном разряжении (напряжение на входе аналого-цифрового преобразователя микроконтроллера равно 0,9в, дроссельная заслонка полностью открыта), а кривая 0,6в формируется при максимальном разрежении. График зависимости УОЗ, при 1/2 от максимального разрежения (кривая 0,75в), от 830 до 2800 , проходит по границе детонации для бензина АИ - 92. Далее кривая графика соответствует оптимальному углу опережения зажигания в диапазоне частот от 2800 до 6000 . Кривая 0,75в соответствует кривым 2 и 4 на графике из статьи [2] Рис. 2.16. График зависимости оптимального УОЗ.

Схема электрическая принципиальная регулятора УОЗ приведена на Рис 2.20. Схема электрическая принципиальная. Формирователь угла опережения зажигания с датчиком Холла.

Рис. 2.19 - График формирователя угла опережения зажигания.

Программа, в части регулировки УОЗ в зависимости от частоты вращения коленчатого вала, полностью идентична программе первого устройства.

Здесь дополнительно введена подпрограмма коррекции формируемого УОЗ в зависимости от разряжения во впускном коллекторе двигателя. Диапазон регулировки УОЗ в зависимости от разряжения был определен в ходе испытания устройства.

УОЗ корректируется в зависимости от напряжения на входе аналого-цифрового преобразователя (вывод 8 PIC16F676) в соответствии с графиком на Рис. 2.19. График формирователя угла опережения зажигания.

Рис. 2.20 - Схема электрическая принципиальная. Формирователь угла опережения зажигания с датчиком Холла.

В программе так же предусмотрено ограничение диапазона регулирования УОЗ по разряжению. УОЗ изменяется в пределах указанных рисунок 1.19, даже если напряжение на входе АЦП будет меньше 0,6в или больше 0,9в.

Работа датчика разрежения - основана на изменении индуктивного сопротивления катушки L1, при вводе внутрь сердечника из феррита.

Датчик разрежения сделан из дополнительного вакуумного регулятора (штатный вакуумный регулятор оставлен на двигателе, тяга его зафиксирована, и шланг отбора разрежения отключен). Шланг отбора разрежения для регулятора УОЗ на микроконтроллере, соединяется с патрубком отбора разряжения, на карбюраторе.

Сердечник катушки L1 связан с тягой предварительно переделанного вакуумного регулятора. К тяге вакуумного регулятора прикреплен удлинитель (стержень из стеклотекстолита диаметром 7мм), на котором закреплены 1-2 ферритовых кольца 7x10x12, являющиеся сердечником катушки L1. Ход тяги увеличен до 5,5-6мм. На катушку с вывода 3 микроконтроллера через R11 поступает переменное напряжение с частотой 1,0мгц и амплитудой около 4в. При втягивании сердечника в катушку увеличивается индуктивное сопротивление и следовательно напряжение на C3, это напряжение поступает на вход АЦП микроконтроллера.

Настройка устройства сводиться к установке на входе АЦП пределов изменения напряжения от 0,6в, при сердечнике вне катушки (максимальное разрежение во впускном коллекторе) до 0,9в при сердечнике, полностью введенном в катушку (минимальное разрежение). Это достигается подбором ферритовых колец (количества колец или марки феррита) и подбором резистора R7.

Устройство собрано в металлическом корпусе от блока электронного зажигания, вакуумная камера регулятора закреплена снаружи корпуса, в корпусе просверлено отверстие для тяги вакуумного регулятора. Катушка L1 закреплена на плате устройства. Транзистор КТ898А изолирован от корпуса блока прокладкой из слюды.

2.5 Постановка задачи

Недостаток системы зажигания с автоматической корректировкой УОЗ МБ-22 в том, что все происходит механически.

Проблемой подобных устройств в том, что пружинки и грузики центробежного регулятора не могут обеспечить оптимальную зависимость угла опережения зажигания от оборотов двигателя. Не устойчивая работа центробежного устройства на низких оборотах так же оставляет желать лучшего. А также от из-за повышенной окружающей среды влажности при заводке двигателя может пробить на корпус двигателя.

От всех этих недостатков избавлены микроконтроллерные системы зажигания.

Основной недостаток датчиков Холла в микропроцессорной системе зажигания на микроконтроллере Atmel, микропроцессорной системе зажигания с оптическими датчиками, и универсальной микропроцессорной системе зажигания в том, что на него влияет электромагнитное поле генератора.

Основные преимущества использовании микропроцессорной системы зажигания на микроконтроллере Atmel. То, что при использовании мощного транзистора в качестве коммутирующего элемента в цепи катушки зажигания, увеличивается мощность искрового разряда, а контакты прерывателя разгружаются от больших токов и не выгорают от искрения при работе катушки зажигания.

Применяя бесконтактный датчик вместо прерывателя можно избавиться от перебоев в искрообразовании, уменьшить погрешность между моментами поджога горючей смеси в цилиндрах.

РАЗДЕЛ 3 

Раздел 3. Выбор средств реализации проекта

3.1 Обоснование выбора системы сквозного проектирования P-Cad

3.1.1 Структура системы P-CAD 2001

Система P-CAD 2000 предназначена для проектирования многослойных печатных плат (ПП) аналоговых, цифровых и аналого-цифровых устройств. Она состоит из четырех основных модулей и ряда вспомогательных программ рисунок 3.1. Структура системы P-CAD 2001

Редактор схем - Schematic. Графический редактор для ввода принципиальных схем изделий. Легко позволяет создавать, сложив многолистовые схемы, в том числе с иерархической структурой. Обладает средствами проверки схем. Позволяет создавать и помещать в библиотеки символы новых компонентов и редактировать существующие.

Редактор печатных плат - PCB. Графический редактор для работы с односторонними, двухсторонними и многослойными печатными платами. Позволяет в ручном режиме создавать контур печатной платы, проводить размещение компонентов. В ручном и интерактивном режимах может быть осуществлена трассировка и редактирование проводников. Осуществляет контроль за соблюдением установленных технологических норм и правил.

Позволяет выделять на плате отдельные участки (комнаты) с различающимися проектными нормами.

Рис. 3.1. Структура системы P-CAD 2001

Relay - упрощенный графический редактор ПП, предназначенный для коллективной работы над проектом. Является аналогом графического редактора P-CAD РСВ с ограниченными возможностями. С его помощью разработчик схем может выполнить предварительное размещение компонентов, проложить наиболее критичные трассы, задать информацию о ширине ряда цепей и допустимых зазорах и передать эти данные конструкторам. Печатные платы можно просматривать, вручную редактировать и выполнять вывод на принтеры и плоттеры. Нельзя создавать управляющие файлы фото плоттеров и станков с ЧПУ, трассировать проводники в интерактивном и автоматическом режимах, создавать слои металлизации, выполнять корректировку проектов ЕСО и ряд других операций.

Interoute Gold - дополнительная утилита для РСВ, позволяющая в интерактивном режиме прокладывать проводники, автоматически раздвигая мешающие. Существенно облегчает и ускоряет процесс ручной и интерактивной трассировки проводников.

InterPlace - DBX утилита для РСВ, представляющая собой интерактивное средство размещения компонентов. Размещение компонентов выполняется с учетом имеющихся технологических требований. Компоненты могут быть объединены в физические или логические группы и размещены на плате, выровнены, перемещены или повернуты.

PCS (Parametric Constraint Solver) представляет собой DBX-утилиту, данные в которую передаются из Schematic и P-CAD РСВ. В ней имеется окно для просмотра списка компонентов и списка цепей проекта. Программа PCS вызывается автономно после загрузки принципиальной схемы в Schematic или печатной платы в P-CAD РСВ или выбором команды в этих программах. Утилита Parametric Constraint Solver позволяет задать набор правил проектирования (ширина проводника отдельной цепи, значения зазоров, типы переходных отверстий и т. п.) для передачи их программ авторазмещения компонентов, автотрассировки проводников, контроля за соблюдением технологических ограничений DRC и изготовления печатных плат на этапах создания принципиальной схемы и ранних этапах работы с печатными платами. Правила премирования задаются в виде констант или математических выражений.

Library Executive - менеджер библиотек с расширенными возможностями. Предназначен для работы с интегрированными библиотеками, которые содержат графическую информацию о символах и типовых корпусах компонентов и текстовую упаковочную информацию. В этом принципиальное отличие от P-CAD зля DOS, имеющем отдельные библиотеки символов и корпусов, содержащих как графическую, так и повторяющуюся текстовую информацию.

В интегрированной библиотеке каждому символу могут быть сопоставлены несколько вариантов корпусов. Библиотеки легко пополняются с помощью графических редакторов, а упаковочная информация о цоколевке компонентов, логической эквивалентности выводов и т.п. координируете я администратором библиотек.

Library Executive имеет средства поиска, импорта атрибутов компонентов, верификация библиотек и проектов, которые отсутствуют у ранее использовавшегося для работы с библиотеками Library Manager.

Shape-Based Auto router - бес сеточная программа автотрассировки ПП. Модуль предназначен для автоматической разводки многослойных печатных плат с высокой плотностью размещения элементов, особенно с применением технологии поверхностного монтажа зля корпусов элементов, выполненных в различных системах координат. Здесь имеется возможность размещения проводников под различными углами на разных слоях платы, оптимизации их длины и числа переходных отвертки. Современные бес сеточные алгоритмы трассировки позволяют анализировать полезную площадь печатной платы, многократно выполнять процедуры расталкивания, разрывания и перерисовки проводников с целью получения наиболее эффективного их расположения. Модуль запускается непосредственно из редактора P-CAD PCB в виде отдельного приложения, позволяющего производить разводку печатной платы, как в автоматическом, так и интерактивном режиме. Имеется возможность блокировки предварительно размещенных проводников. Стратегия трассировки задается с помощью включения соответствующих опций и флагов в управляющих диалоговых окнах.

Document Toolbox -- дополнительная опция ACCEL P-CAD PCB и Schematic для размещения на чертежах схем или печатных плат различных диаграмм и таблиц, составления различных списков и отчетов, которые динамически обновляются, таблиц сверловки, данных о структуре платы, технологической и учетной информации, размещения на чертежах схем списков соединений, выводов подключения питания и другой текстовой информации.. Программа предназначена дня расширения возможностей выпуска технической документации без использования чертежных программ типа AutoCAD. Document Toolbox позволяет автоматизировать создание конструкторской документации, необходимой для производства проектируемых печатных плат.

3.1.2 Возможности системы P-CAD при проектировании печатных плат

Система P-CAD 2001 выполняет полный цикл проектирования печатных плат, а именно:

- графический ввод электрических схем;

- смешанное аналого-цифровое моделирование на основе ядра SPICE3;

- упаковку схемы на печатную плату;

- интерактивное размещение компонентов;

- интерактивную и автоматическую трассировку проводников;

- контроль ошибок в схеме и печатной плате;

- выпуск документации;

- анализ целостности сигналов и перекрестных искажений;

- подготовку файлов Gerber и NC Drill для производства печатных плат;

- подготовку библиотек символов, топологических посадочных мести моделей компонентов.

Система P-CAD 2001 обладает при вводе схемы и проектировании печатной платы обладает следующими возможностями:

- 32-разрядная база данных;

- "горячая" связь между редактором плат и схемным редактором;

- возможность прямой и обратной коррекции (схемы и платы).

Для схемы:

- минимальный шаг сетки 0,1 мил в английской системе и 0,001 мм в метрической. Систему единиц можно изменить на любой фазе проекта;

- не более 20000 компонентов в одной библиотеке;

- не более 99 открытых библиотек. Библиотеки можно открывать по мере необходимости;

- не более 64000 цепей в проекте;

- не более 10000 выводов в компоненте;

- не более 5000 секций в компоненте;

- не более 2000 символов в атрибуте;

- не более 2000 символов в текстовой строке;

- не более 20 символов в имени вывода, имени цепи, позиционном обозначении вывода (пробелы, знаки табуляции, точки и скобки не допускаются);

- не более 30 символов в имени типа компонента (пробелы и знаки табуляции не допускаются);

- не более 30 символов в позиционном обозначении компонента (символы кириллицы, пробелы, знаки табуляции, точка и точка с запятой не допускаются).

- не более 999 страниц схем, максимальный размер листа 60x60 дюймов;

- дискретность угла поворота компонента в схеме 90град;

Для платы:

- максимальный размер проектируемой печатной платы 60x60 дюймов;

- не более 999 слоев на печатной плате, из них 11 слоев предварительно определены;

- неограниченное количество компонентов в проекте;

- не более 64000 типов контактных площадок в проекте;

- ширина трассы не более 1 см (394 мил);

- минимальный угол поворота объекта на плате 0,1 град;

- не более 64000 стилей стеков контактных площадок в проекте;

- контактные площадки 11 форм;

- контроль соблюдения зазоров и полноты разводки ПП.

3.1.3 Требования к аппаратному обеспечению ПК

P-CAD 2001 работает в среде Windows 95, Windows NT или Windows 98 на платформе IBM. Минимально требуемая конфигурация:

- процессор Pentium-133 (рекомендуется старше Pentium-200);

- 32 MB оперативной памяти (рекомендуется 64 MB);

- не менее 170 Мб дисковой памяти (винчестер) или разделяемый диск в сети ЭВМ (для полного комплекта);

- монитор VGA с разрешением не ниже 800x600;

3.2 Обоснование выбора среды программирования AVR studio + PonyProg

3.2.1 Среда разработки программ для микроконтроллеров AVR studio

AVR Studio -- интегрированная среда разработки (IDE) для разработки 8-ми и 32-х битных AVR приложений от компании Atmel, работающая в операционных системах Windows NT/2000/XP/Vista/7. AVR Studio содержит компилятор C/C++ и симулятор, позволяющий отследить выполнение программы. Текущая версия поддерживает все выпускаемые на сегодняшний день контроллеры AVR и средства разработки. AVR Studio содержит в себе менеджер проектов, редактор исходного кода, инструменты виртуальной симуляции и внутрисхемной отладки, позволяет писать программы на ассемблере или на C/C++.

Программная среда "AVR Studio" -- это мощный современный программный продукт, позволяющий производить все этапы разработки программ для любых микроконтроллеров серии AVR. Пакет включает в себя специализированный текстовый редактор для написания программ, мощный программный отладчик.

Кроме того, "AVR Studio" позволяет управлять целым рядом подключаемых к компьютеру внешних устройств, позволяющих выполнять аппаратную отладку, а также программирование ("прошивку") микросхем AVR.

Программная среда "AVR Studio" работает не просто с программами, а с проектами. Для каждого проекта должен быть отведен свой отдельный каталог на жестком диске. В AVR Studio одновременно может быть загружен только один проект.

При загрузке нового проекта предыдущий проект автоматически выгружается. Проект содержит всю информацию о разрабатываемой программе и применяемом микроконтроллере. Он состоит из целого набора файлов.

Главный из них -- файл проекта. Он имеет расширение aps. Файл проекта содержит сведения о типе процессора, частоте тактового генератора и т. д. Он также содержит описание всех остальных файлов, входящих в проект. Все эти сведения используются при отладке и трансляции программы.

Кроме файла aps, проект должен содержать хотя бы один файл с текстом программы. Такой файл имеет расширение asm. Недостаточно просто поместить файл asm в директорию проекта. Его нужно еще включить в проект. Проект может содержать несколько файлов asm. При этом один из них является главным. Остальные могут вызываться из главного при помощи оператора .include. На этом заканчивается список файлов проекта, которые создаются при участии программиста.

На Рис. 3.2. Среда разработки AVR Studio, изображено главное окно программы AVR Studio.

Рис. 3.2 - Среда разработки AVR Studio.

Но типичный проект имеет гораздо больше файлов. Остальные файлы проекта появляются в процессе трансляции. Если наша программа не содержит критических ошибок и процесс трансляции прошел успешно, то в директории проекта автоматически появляются следующие файлы: файл, содержащий результирующий код трансляции в hex формате, файл тар/содержащий все символьные имена транслируемой программы со своими значениями, листинг-трансляции (lst) и другие вспомогательные файлы. Однако для нас будет важен лишь hex-файл (файл с расширением hex). Именно он будет служить источником данных при прошивке программы в программную память микроконтроллера.

3.2.2 Среда программирования микросхем PonyProg

PonyProg - это приложение, которое предназначается для программирования микросхем памяти с последовательным интерфейсом и микроконтроллеров AVR, PIC и т.д. Такие чипы, как правило, применяются в системах защиты, кодирования и охраны.

На сегодняшний день программа широко применяется многими аппаратными хакерами для ремонта цифровых телевизоров, взлома кодированных магнитофонов и т.д, то есть всех тех устройств, где применяются микроконтроллеры с шинами I2C и microwire.

Большинство микросхем AVR поддерживают режим внутрисхемного программирования. Это означает, что нам не нужно каждый раз, когда нам необходимо перепрограммировать, вынимать чип из платы. При помощи программы PonyProg и свободного параллельного порта мы сможем самостоятельно сконструировать простой программатор, который представляет собой простой кабель.

Рис. 3.3 - Интерфейс программы PonyProg2000

В настоящее время программа поддерживает аппаратные контроллеры Microwire, I2C Bus, SPI eeprom, PIC micro, Atmel AVR и SI-Prog.

3.3 Обоснование выбора среды конструкторского проектирования Компас

В настоящее время, большинство предприятий стремятся проектировать в трехмерном пространстве. Трехмерные CAD-системы предоставляют проектировщику большой простор для творчества и при этом позволяют значительно ускорить процесс выпуска проектно-сметной документации. Наряду со скоростью, такие системы позволяют повысить точность проектирования: становится проще отследить спорные моменты в конструкции.

Основная задача, решаемая системой КОМПАС 3D -- моделирование изделий с целью существенного сокращения периода проектирования и скорейшего их запуска в производство. Эти цели достигаются благодаря возможностям:

· быстрого получения конструкторской и технологической документации, необходимой для выпуска изделий (сборочных чертежей, спецификаций, деталировок и т.д.).

· передачи геометрии изделий в расчетные пакеты.

· передачи геометрии в пакеты разработки управляющих программ для оборудования с ЧПУ.

· создания дополнительных изображений изделий (например, для составления каталогов, создания иллюстраций к технической документации и т.д.).

Основные компоненты КОМПАС 3D -- собственно система трехмерного твердотельного моделирования, чертежно-графический редактор и модуль проектирования спецификаций.

Система трехмерного твердотельного моделирования предназначена для создания трехмерных ассоциативных моделей отдельных деталей и сборочных единиц, содержащих как оригинальные, так и стандартизованные конструктивные элементы. Параметрическая технология позволяет быстро получать модели типовых изделий на основе однажды спроектированного прототипа. Многочисленные сервисные функции облегчают решение вспомогательных задач проектирования и обслуживания производства.								
									
										Страница:  1   2 
										
									
								