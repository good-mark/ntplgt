
          ﻿РАДИОТЕХНИКА
УДК 519.86
МАТЕМАТИЧЕСКИЕ МОДЕЛИ ГЕОМЕТРИИ ВИНТОВОЙ ОБМОТКИ ТОРСАТРОНА «УРАГАН-2М»
ВОЛКОВ Е.Д., ЛУЧАНИНОВ А.А.,
МАРТЫНОВ С.А., ПАШНЕВ В.К.,
ХАЖМУРАДОВ М.А._________________________
Рассматриваются математические модели определения геометрических характеристик элементов магнитной системы торсатрона «Ураган-2М», позволяющие получить трехмерные твердотельные и поверхностные модели винтовой обмотки. Используются метод кинематического моделирования, сплайны Безье и уравнение Оверхаузера для определения координат точек на поверхности винтовой обмотки. Представляется алгоритм работы, используемые средства и архитектура разработанной интерактивной графической системы геометрического моделирования винтовой обмотки.
1.	Введение
Среди множества проблем, связанных с расчетами характеристик энергетических термоядерных установок стеллараторного типа, можно выделить проблему получения математических моделей геометрии элементов магнитной системы. К таким элементам относятся магнитные обмотки торсатрона «Ураган-2М» («У-2М»). Среди них наиболее сложной подсистемой является винтовая обмотка (ВО).
Внушительные габаритные размеры, сложная пространственная форма, ограниченные технологические возможности изготовления, значительное влияние точности изготовления обмотки на характеристики удерживающего плазму магнитного поля - вот далеко не полный перечень проблем, стоящих на пути проек-тиров ания, технологического оснащения и эксплуатации физической установки.
Современные средства вычислительной техники позволяют в значительной степени разрешить указанные выше проблемы. Для этого разработаны математические модели, методы и компьютерные программы, позволяющие в интерактивном режиме и за приемлемые сроки осуществлять получение трехмерных моделей элементов магнитной системы.
Настоящая работа по математическому моделированию геометрии ВО проводится в целях получения трехмерных твердотельных и поверхностных компьютерных моделей магнитной системы термоядерных установок стеллараторного типа. Практическая ценность моделирования состоит в том, что геометрические характеристики таких моделей используются в
качестве управляемых параметров в расчетных работах по определению напряженно-деформированного состояния, теплообмена и магнитных характеристик удерживающего плазму поля.
2.	Особенности конструкции торсатрона «Ураган-2М»
Магнитная система торсатрона состоит из ряда магнитных обмоток, среди которых наиболее сложной является ВО [1]. Она двухзаходная и состоит из 40 проводников, каждый из которых в сечении имеет вид трапеции (стороны верхнего и нижнего оснований 20 и 24 мм, соответственно, и высота - 100 мм). Проводники ВО сформированы в 2 полюса, по 20 в каждом. Полюсы ВО состоят из двух полуполюсов по 10 проводников. Расположение проводников ВО на тороидальной поверхности представлено на рис. 1. Каждый проводник серединой основания трапеции сечения размером 20 мм (точка а) опирается на тороидальную поверхность, а высота трапеции сечения (линия в) является продолжением радиуса г меридионального сечения тора. ВО «У-2М» расположена на тороидальной поверхности с большим радиусом R и малым г (Ro=1700 мм, г =400 мм).
Рис. 1. Расположение проводников на тороидальной поверхности
Для расчета геометрических характеристик ВО используются две системы координат - тороидальная и глобальная (рис. 2).
Рис. 2. Модель поверхности тора: хуг - глобальная система координат; М - точка, принадлежащая винтовому проводнику; 0, ф - тороидальные координаты точки М
РИ, 2010, № 3
3
Соотношения, связывающие глобальную систему координат с тороидальной, имеют вид
x = (R0 +rcos9)cosф; y = (Ro + rcos 9)sin ф; z = rsin 9.
В качестве исходных данных для автоматизированного построения трехмерной модели ВО используются геометрические характеристики, представленные на рис. 3. Их применение позволяет получить набор меридиональных сечений ВО через 0,5° приращения по ф . Всего на периоде поля таких сечений 180 (угловой сектор в 90o по Ф). В таблице приведен набор меридиональных сечений ВО через 0,5o приращения по ф .
Рис. 3. Геометрические характеристики размещения ВО на торе: ф - меридиональное сечение тора; 9цц и
9ці2 - угловые значения центра полюсов на радиусе
тора; Сь С3 - хорды от центра полюса до первого проводника полуполюсов; С2 и С4 - хорды от центра полюса до последнего проводника полуполюсов
3.	Кинематический метод моделирования ВО «У-2М»
Важным этапом создания автоматизированной системы построения геометрии ВО является разработка математических моделей и методов, которые обеспечивают:
-	максимальную простоту описания;
-	учет технологических особенностей изготовления;
-	эффективность представления для приложений;
-	интуитивные представления разработчиков;
-	минимальные затраты на хранение и редактирование документации.
Суть метода заключается в том, что для задания поверхности необходимо описать ее каркас (образующие и направляющие кривой), семейство плоскостей, определяющих расположение сечений и граничные условия. Все перечисленные элементы рассматриваются как параметризованное множество точек, что делает алгоритм построения независимым от того, из каких кривых состоят контуры. Описание кинематической поверхности ВО складывается из описания изменения формы рисующей кривой и описания закона движения этой кривой в пространстве. Для ВО торсатрона рисующая кривая в каждый момент времени находится в одной плоскости и, по сути, представляет собой набор меридиональных сечений. Для задания кинематической поверхности ВО необходимо задать форму рисующей кривой в плоскости и закон изменения такой кривой в пространстве. Пусть фи (-9)
-	семейство плоских кривых ВО, зависящее от параметра и и принадлежащее конкретной плоскости Rj2. Тогда Tu : R2 ^ R3 поверхность задается композицией отображений ф(и, 9) = Tuфи (9) , где и, 9
-	криволинейные координаты поверхности.
Для ВО «У-2М» реализована естественная ситуация проявления кинематичности поверхности, когда формообразование поверхности осуществляется набором меридиональных сечений. В этом случае поверхность получается как движущаяся в пространстве кривая, поочередно принимающая форму этих сечений. При этом предполагается, что между сечениями поверхность интерполируется по явно не указанному простому правилу. Преимущество кинематического метода моделирования ВО торсатрона, по сравнению с другими методами затягивания корсета поверхности, заключается в том, что для описания поверхности ВО требуется значительно меньшее число промежуточных сечений, что в свою очередь достигается за счет дополнительных возможностей управления плоскостью сечения.
Алгоритм получения кинематической поверхности ВО достаточно трудоемок. Сложность заключается в том, что для получения пространственных координат надо выполнить большое количество действий. Можно значительно упростить задачу, если использовать растровое представление поверхности. В этом случае
Сечение		9ці1 , град	Левый полуполюс		Правый полуполюс		9ці2 , град	Левый полуполюс		Правый полуполюс	
ф°	№ п/п		С1, мм	С2, мм	С3, мм	С4, мм		С3, мм	С4, мм	С1, мм	С2, мм
1	2	3	4	5	6	7	8	9	10	11	12
0	1	0	57,3	312,8	57,3	312,7	180	56,9	307,1	56,9	307,1
0,5	2	1,3	57,3	312,9	57,3	312,6	179,2	56,9	307,1	56,9	307
89	179	178,5	56,9	307,2	56,9	306,9	2,6	57,4	313	57,2	312.6
89,5	180	179,2	56,9	307,1	56,9	307	1,3	57,4	312,9	57,2	312,6
4	РИ, 2010, № 3
модель поверхности ВО представляется в виде сетки, состоящей из характерных пересекающихся линий, принадлежащих поверхности. В нашем случае в качестве таких линий используются меридиональные сечения и отрезки, соединяющие характерные точки при разбиении замкнутых линий, ограничивающих сечения. Точки пересечения замкнутых кривых, ограничивающих сечение и отрезки, образуют узлы растра, а множество таких точек на моделируемой поверхности - растр (рис. 4). В случае если расстояние между узлами растра мало, то точки растра достаточно точно описывают поверхность ВО.
1
Рис. 4. Растровое представление поверхности винтовой обмотки торсатрона «У-2М»: 1 - полюсы ВО; 2 -поверхность тора; 3 - меридиональное сечение; 4 -отрезки, соединяющие характерные точки замкнутых линий, ограничивающих меридиональные сечения проводников в полюсах
При решении практических задач, например, расчета напряженно-деформированного состояния торсатрона [2], появляется необходимость иметь доступ к точкам поверхности, лежащим между узловыми точками растра. Для восстановления координат точек на поверхности ВО используется аппроксимация с помощью сплайнов Безье.
4.	Определение координат точек на поверхности ВО
Для восстановления поверхности сплайном Безье в каждой ячейке сетки (к имеющимся четырем точкам растра) добавляется еще двенадцать точек так, чтобы
в каждой ячейке оказалось шестнадцать опорных узлов. По этим шестнадцати опорным узлам строится аппроксимирующая поверхность Безье для ячейки [3 ]
K(u,Э) = £ £c3c3Au‘(1-Au)3-1 AdJ(1-AS)3-JKij
i=0 j=0
где Au = u - u0 , АЭ = Э - Э0 , с]к - биноминальные коэффициенты; kij - радиусы-векторы опорных узлов.
Выбором опорных узлов можно достичь непрерывности и гладкости поверхности на стыках ячеек, а также удовлетворить граничные условия на кромках поверхности. При геометрическом моделировании поверхности ВО предусмотрен упрощенный алгоритм аппроксимации поверхности, который сохраняет преимущества сплайнов Безье, но требует существенно меньшее количество опорных узлов. Эти узлы добавляются только около кромок поверхности или около линии излома. При таком подходе всюду, кроме линии излома, поверхность будет гладкой. Линии излома при этом выглядят как линии, на которых происходит нарушение гладкости поверхности.
Пусть на исследуемой поверхности ВО расположены криволинейные координаты (u, Э) так, что если поверхность покрыта сеткой u = 1, Э = j (1 и j - целые числа), то граница области на плоскости (u, Э) будет сеточно-ломаной. Рассмотрим аппроксимацию ячейки такой сетки.
Предположим, что ни одна угловая точка ячейки не принадлежит границе области или линии излома. Введем в окрестности ячейки сетки 4 х 4 из вершин ячеек (рис. 5).
Аппроксимирующая поверхность для ячейки описывается формулой
_	3	3	__
K(u,Э) = £ £Ri(u-u0)Rj(S-S0)Kij,
1=0 j=0
где R1 (t), 0 < 1 < 3 полиномы:
R0(t) = -t(t -1)2 / 2;
РИ, 2010, № 3
5
R1(t) = (3t3 - 5t2 + 2)/2;
R2(t) = (3t3 - 4t -1)/2;
R3(t) = t(t -1)/2.
Эта поверхность обладает свойствами непрерывности и гладкости на стыках ячейки. Она получена из четырех биквадратичных участков поверхности методом Оверхаузера [3].
Рассмотрим свойства аппроксимирующей поверхности ВО. Для этого введем обозначения. Пусть ячейка поверхности соответствует квадрату на (u, Э) - плоскости, при этом u0 < u < (Uo +1), -Эо < Э < 1. Пусть ячейка имеет координаты (u0 + 05, Эо + 0.5). Узлы обозначим парами (u, Э) координат, например, (u°, Э° +1). Опорными узлами являются все шестнадцать узлов, которые используются при ее параметризации.
Непрерывность поверхности на стыке ячеек определяется тем, что линия стыка целиком задается наложением одних и тех же четырех узлов, являющихся опорными для обеих смежных ячеек поверхности ВО. Подтверждением этого служит факт, что если ячейки (i + 0.5, j + 0.5) и (i - 0.5, j + 0.5) граничат, то координаты точки как линии соприкосновения при аппроксимации одной и другой ячейки описываются одним и тем же соотношением
К(Э) = Л RkO-j)Ki,j+k _1.	(1)
k=0
Гладкость на стыке ячеек следует из того, что параметрические производные радиус-вектора поверхности на линии соприкосновения целиком определяются наложением двенадцати узлов, являющихся опорными для обеих ячеек. Действительно, пусть ячейки (i + 0.5, j + 0.5) и (i - 0.5, j + 0.5) граничат между собой, тогда производная Ж / дЭ справа и слева одна и та же согласно (1). Производная дК / дЭ| u= справа и слева выражается одинаково:
dK	= Л Rk (Э - j)Ki+1,j+k-1 - Ki-1, j+k-1
du u=i k=0	2
Представленный подход применяется только для внутренних ячеек аппроксимирующей поверхности ВО торсатрона «У-2М». Для граничных ячеек вводим фиктивные узлы взамен недостающих реальных узлов. Координаты фиктивных узлов определяются из условий сохранения непрерывности и гладкости поверхности и из граничных условий в узлах кромок (или линий излома) ВО [4].
5.	Математическая модель винтовой обмотки торсатрона «У-2М»
На основании изложенной методики построена математическая модель винтовой обмотки торсатрона «У -2М». Тела каждого из 40 витков винтовой обмотки ограничены четырьмя трехмерными поверхностями.
6
Узловыми точками при построении этих поверхностей являются взятые попарно в каждом сечении по ф смежные вершины трапеций (сечение проводника плоскостями ф = const). Использовались сплайновые функции Безье и уравнения Оверхаузера. Координаты узловых точек вычислялись по параметрам (см. рис. 3), представленным в таблице, что обеспечивает наилучшее приближение разработанной математической модели к реальному рассматриваемому устройству - торсатрону «У-2М».
В рамках разработанной модели определены координаты геометрических центров четырех полуполюсов винтовой обмотки в каждом сечении по ф . Эти данные используются при расчетах пондеромоторных сил, действующих на винтовую обмотку при модельном рассмотрении токов, сосредоточенных в четырех токовых нитях, соответствующих полуполюсам.
Изложенные выше методы моделирования ВО использованы при написании компьютерных программ получения трехмерных моделей ВО «У-2М».
6.	Компьютерные программы моделирования поверхностей ВО «У-2М»
На основе разработанных математических моделей и алгоритмов построения поверхностей торсатрона, обладающих сложной пространственной формой, написан ряд компьютерных программ. Программы обеспечив ают получение 3 D компьютерных моделей узлов на экране дисплея и осуществление манипуляций с такими объектами для решения ряда конструкторско-технологических задач при проектировании [5]. Компьютерные программы обеспечивают также получение изображения по проекциям и различных видов сечений и разрезов, принятых в проекционном черчении. Предусмотрена возможность редактирования компьютерного изображения современными графическими пакетами типа AUTOCAD и КОМПАС.
Архитектура. Программа разбита на 5 функциональных частей (рис. 6):
-	интерфейс с пользователем;
-	менеджер обработки пользовательских запросов;
-	алгоритмы и процедуры, которые реализуют расчеты;
-	блок хранения данных (исходных, промежуточных) ирезультатов;
-	экспорт результатов в различные форматы.
РИ, 2010, № 3
Интерфейс программы обеспечивает взаимодействие между пользователем и программой. Начальное требование состоит в том, что система должна быть интерактивной графической системой, позволяющей моделировать основные действия конструктора по проектированию поверхностей. Методы организации графического диалога в настоящее время хорошо изучены. Поэтому упомянем лишь следующие требования, которым уделялось специальное внимание при разработке:
-	пользователь должен видеть на экране одновременно все нужные объекты, легко в них ориентироваться;
-	количество действий, необходимое для вычисления каких либо операций, должно быть минимальным;
-	вся необходимая информация должна находиться на экране.
Менеджер обработки пользовательских запросов обеспечивает контроль и управление действиями, выполняемыми программой для решения различных задач (например, построение меридиональных сечений ВО). При разработке программы используются математические модели и алгоритмы построения объекта, обеспечив ается упорядоченное, с точки зрения архитектуры, хранение всех данных и результатов, осуществляется экспорт результатов в различные форматы.
В результате работы программы объект моделирования отображается на экране дисплея (рис. 7). Предоставляется возможность редактирования его в среде AUTOCAD или другими средствами.
Используемые средства. Программа написана на языке C++ с применением MS Visual C++ 6.0. При написании программы трехмерного моделирования важным фактором является эффективное использование существующих библиотек, что позволяет привлекать к решению данной задачи минимальное количество программистов и существенно сократить сроки написания и отладки программы. В нашем случае для взаимодействия с ОС MS Windows используется библиотека MFC 6.0. В целях расширения возможностей интерфейса применяется библиотека Stingray Objective Toolkit 6.0, являющаяся расширением MFC. Для задания полюса ВО используется ActiveX компонент Proworks Flipper CAD Control 2.50. Для получения на дисплее 3 D изображения применяется библиотека TGS Open Inventor v2.62, разработанная компанией Silicon Graphics, и ее расширение TGS 3D Mastersuite v3.62. Эти две библиотеки являются высокоуровневыми и, в то же время, так как они построены поверх OpenGL, то они сохранили все его достоинства и, в частности, высокую производительность при работе без аппаратного ускорения (чего, например, не хватает Direct3D).
7.	Выводы
В работе представлены математические модели, методы и программные средства для получения компьютерной трехмерной геометрической модели винтовой обмотки торсатрона «У-2М». Геометрические харак-
РИ, 2010, № 3
теристики ВО позволяют провести целый ряд важнейших инженерных расчетов системы, в частности, расчетов напряженно-деформированного состояния системы, процессов теплообмена и определения удерживающих плазму свойств магнитного поля торсат-рона.
Рис. 7. Трехмерная модель ВО торсатрона «У-2М» (вид спереди, сверху, произвольное направление взгляда)
Литература: 1. Мартынов С.А., Воробьева В.П., Круголь М.С., Юркин А.Ю., Хажмурадов М.А. Модели и методы оптимизации напряженно-деформированного состояния торсатрона «Ураган-2М» // АСУ и приборы автоматики. 2009. Вып. 147. С. 32-38. 2. Мартынов С.А., Воробьева В.П., Круголь М.С., Слабоспицкая Е.А., Юркин А.Ю. Модели и методы оптимизации напряженно-деформированного состояния тороидальных магнитных систем / / АСУ и приборы автоматики. 2008. Вып. 144. С. 168-175. 3. Кельтон В., Лоу А. Имитационное моделирование. СПб: БХВ - Петербург; Киев.: изд. группа BHV, 2004. 847c.
7
4. Шубин М.Б. Комплекс программ формирования поверхностей. М.: ВЦ АН СССР, 1979. 102 с. 5. Проблемы обработки графической информации в машиностроительных САПР. Вопросы кибернетики / Под ред. Вишня-коваЮ.С. М.: 1987. 167 с.
Поступила в редколлегию 08.09.2010
Рецензент:д-р техн. наук, проф. Левыкин В.М.
Волков Евгений Дмитриевич, д-р физ. -мат. наук, начальник отдела Национального Научного Центра Харьковский Физико-технический институт (ННЦ ХФТИ). Адрес: Украина, 61108, Харьков, ул. Академическая, 1, тел. (057)335-65-94.
Лучанинов Александр Андреевич, канд. физ.-мат. наук, старший научный сотрудник Национального Научного Центра Харьковский Физико-технический институт (ННЦ ХФТИ). Адрес: Украина, 61108, Харьков, ул. Академическая, 1,тел. (057)335-65-94.
Мартынов Сергей Алексеевич, канд. техн. наук, научный сотрудник Национального Научного Центра Харьковский Физико-технический институт (ННЦ ХФТИ). Адрес: Украина, 61108, Харьков, ул. Академическая, 1, тел. (057)335-65-94. e-mail: khazhm@kipt.kharkov.ua
Пашнев Валерий Константинович, канд. физ.-мат. наук, старший научный сотрудник Национального Научного Центра Харьковский Физико-технический институт (ННЦ ХФТИ). Адрес: Украина, 61108, Харьков, ул. Академическая, 1,тел. (057)335-65-94.
Хажмурадов Манап Ахмадович, д-р техн. наук, профессор, начальник отдела Национального Научного Центра Харьковский Физико-технический институт (ННЦ ХФТИ). Адрес: Украина, 61108, Харьков, ул. Академическая, 1, тел. (057)335-68-46,e-mail: khazhm@kipt.kharkov.ua.