SPARQL



SPARQL (рекурсивный акроним от ) — язык запросов к данным, представленным по модели RDF, а также протокол для передачи этих запросов и ответов на них. SPARQL является рекомендацией консорциума W3C и одной из технологий семантической паутины. Предоставление SPARQL-точек доступа () является рекомендованной практикой при публикации данных во всемирной паутине.

Стандарты W3C

Обзор: http://www.w3.org/standards/techs/sparql 

— Обзор языка запросов SPARQL

— Команда языка SPARQL для запроса данных

— Команда языка SPARQL для изменения данных

— Описание сервиса для выполнения запросов на языке SPARQL

— Запросы на языке SPARQL к нескольким источникам данных

Общая схема запроса

Общая схема SPARQL-запроса выглядит так:

codice_1

Префиксные объявления служат для указания сокращений универсальных идентификаторов ресурса (URI).

Источники запроса определяют, какие RDF-графы запрашиваются.

Состав результата определяет возвращаемые элементы данных.

Шаблон запроса определяет, что запрашивать из набора данных.

Модификаторы запроса ограничивают, упорядочивают, преобразуют результаты запроса.

Преимущества

SPARQL позволяет пользователям писать глобально однозначные запросы. Например, следующий запрос возвращает имена и адреса электронной почты каждого человека в мире:

 PREFIX foaf: 

 SELECT ?name ?email

 WHERE {

 ?person a foaf:Person.

 ?person foaf:name ?name.

 ?person foaf:mbox ?email.

Приведённые параметры используются для описания человека, включенного в FOAF. Это иллюстрирует видение Семантической паутины как единой огромной базы данных. Каждый идентификатор в SPARQL, URI, глобально однозначен, в отличие от «email» или «e-mail», обычно используемых в SQL.

Этот запрос может быть распределен на несколько конечных точек SPARQL, разных компьютеров, и сбор результатов осуществляется процедурой, известной как .

Формы запросов

Язык SPARQL определяет четыре различных варианта запросов для различных целей:

SELECT запрос

 Извлекает необработанные значения из точки доступа SPARQL и возвращает результаты в формате таблицы.

CONSTRUCT запрос

 Извлекает информацию из точки доступа SPARQL в формате RDF и преобразовывает результаты к определенной форме.

ASK запрос

 Формирует запрос типа Истина/Ложь.

DESCRIBE запрос

 Получает описание RDF-ресурса. Реализация поведения DESCRIBE-запросов определяется разработчиком точки доступа SPARQL.

Каждая из этих форм запроса содержит блок WHERE для указания ограничений, хотя в случае запроса DESCRIBE этот блок не является обязательным.

Ключевые слова

Ниже приведена часть используемых ключевых слов в SPARQL запросах, полный перечень доступен в .

PREFIX — служит для сокращения URI.

OPTIONAL — обозначает необязательный шаблон.

GRAPH — применяет шаблон к именованным графам.

DISTINCT — обеспечивает уникальность решений в ответе на запрос.

LIMIT — задает максимальное количество выводимых результатов.

OFFSET — опускает в результате первые n решений.

ORDER BY — позволяет отсортировать результат по возрастанию (codice_2) или по убыванию (codice_3).

Сравнение языков запросов к RDF

DQL — основан на XML, запросы и результаты выражаются в DAML+OIL;

N3QL — основан на Нотации 3;

R-DEVICE;

RDFQ — основан на XML;

RDQ — похож на SQL;

RDQL — похож на SQL;

SeRQL — похож на SQL, близок к RDQL;

Versa — компактный синтаксис (не SQL), исключительно для 4Suite (язык Python).

Версии

SPARQL 1.0 стал стандартом в январе 2008 и включал:

 SPARQL 1.0 Язык запросов;

 SPARQL 1.0 Протокол;

 SPARQL Формат результатов XML.

SPARQL 1.1 является актуальной версией и включает:

 SPARQL язык запросов и протокол обновлены до 1.1;

 SPARQL 1.1 Обновления;

 SPARQL 1.1 HTTP-протокол для управления RDF графами;

 SPARQL 1.1 Описания служб;

 SPARQL 1.1 Логические следствия(Entailments);

 SPARQL 1.1 Основные Федеративные запросы.

Пример

Другой пример запросов SPARQL: «Найти даты выхода серий всех сезонов сериала „Клан Сопрано“»:

codice_4

Переменные обозначаются префиксом «?» или «$».

Чтобы сделать запросы краткими, SPARQL позволяет определять префиксы и основные URI способом, подобным Turtle. В этом запросе префикс «dbpo» обозначает «http://dbpedia.org/ontology/».

Точка доступа SPARQL

Точка доступа SPARQL — это служба, поддерживающая протокол запросов SPARQL. Точка доступа позволяет пользователю делать запросы к базе знаний. Сервер обрабатывает запрос и возвращает ответ в некотором, обычно машинно-читаемом, формате. Таким образом, точки доступа SPARQL в первую очередь являются API к базам знаний, а представление результатов должно быть реализовано программным обеспечением вызывающей стороны.

Различают два вида точек доступа: общего назначения и локальные.

Точки доступа общего назначения могут производить запросы по любым указанным RDF-документам, находящимся в Сети. А локальные точки доступа способны получать данные только от одного ресурса.

Примеры

Автоматическое исполнение запросов

На данный момент для ряда языков программирования существует возможность вызывать SPARQL-запросы, существуют инструменты, позволяющие подключать и в полуавтоматическом режиме строить SPARQL-запросы для точки доступа SPARQL, например ViziQuer.

Примечания

Ссылки

— спецификация языка запросов SPARQL

— Новости семантической паутины

— интервью Тима Бернерса-Ли

— Утилита для структурированного семантического поиска

— Структура SPARQL запроса

— спецификация протокола SPARQL

— русский перевод спецификации языка SPARQL

— неофициальное обсуждение языка SPARQL разработчиками стандартов W3C и всеми желающими

MQL — API для создания программируемых запросов к Freebase